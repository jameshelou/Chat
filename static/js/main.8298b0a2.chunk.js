(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{1090:function(e,a,t){},1091:function(e,a,t){"use strict";t.r(a);var s,n=t(0),r=t.n(n),c=t(15),_=t.n(c),i=(t(26),t(1)),o=t.n(i),l=t(2),u=t.n(l),m=function(e){var a=e.user,t=a.name,s=a.profile_pic,n=a.status,c=t.split(" ")[0];return r.a.createElement("div",{className:u.a.Splash},r.a.createElement("h1",null,"Hey, ",c),r.a.createElement("img",{src:s,alt:t,className:u.a.Splash__profilePic}),r.a.createElement("p",{className:u.a.Splash__status},r.a.createElement("strong",null,"Status:")," ",n),r.a.createElement("button",{className:u.a.Splash__button},"Start a conversation"),r.a.createElement("p",{className:u.a.Splash__helperText},"Search for someone to start chatting with or choose a contact from the right"))},p=t(8),d=t(5),h=t(28),g=t(37),f=t(42),v=t(1),E=(s=10,Array.from({length:s},(function(){return M()}))),S=v.mapKeys(E,"user_id"),U=function(e){var a={};return v.forEach(E,(function(t){var s;a[t.user_id]=Object(d.a)({},v.mapKeys((s=e,Array.from({length:s},(function(e,a){return{number:a,text:g.sentence(),is_user_msg:f.random.boolean()}}))),"number"))})),a};M(),U(10);function M(){return{name:f.name.findName(),email:f.internet.email(),profile_pic:f.internet.avatar(),status:g.sentence(),user_id:h.generate()}}var b=M(),N=S,I=t(6),y=U(30),H=Object(p.a)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;arguments.length>1&&arguments[1];return e},contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;arguments.length>1&&arguments[1];return e},activeChatUserId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_ACTIVE_CHAT_USER_ID":return a.payload;default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SEND_MSG":var t=a.payload,s=t.msg,n=t.userId,r=Number(o.a.keys(e[n]).pop())+1;return Object(d.a)({},e,Object(I.a)({},n,Object(d.a)({},e[n],Object(I.a)({},r,{number:r,text:s,is_user_msg:!0}))));default:return e}},typing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_TYPING_VALUE":return a.payload;case"SEND_MSG":return"";default:return e}}}),C=Object(p.b)(H),w=t(3),x=t.n(w),T=function(e){return r.a.createElement("div",{className:x.a.Header},r.a.createElement("img",{src:e.activeUser.profile_pic,className:x.a.Header__img,alt:"active user profile pic"}),r.a.createElement("div",{className:x.a.Header__infoSection},r.a.createElement("h1",{className:x.a.Header__name},e.activeUser.name),r.a.createElement("p",{className:x.a.Header__status},e.activeUser.status)))},j=t(9),k=t.n(j),A=function(e){var a=e.isUserMsg?k.a.Message__user:k.a.Message__notUser;return r.a.createElement("div",{className:"".concat(k.a.Message," ").concat(a)},e.content)},O=t(17),W=t.n(O),D=function(e){var a=Object(n.useRef)(null);return Object(n.useEffect)((function(){a.current.scrollTop=a.current.scrollHeight})),r.a.createElement("div",{className:W.a.Messages,ref:a},e.activeMsgs.map((function(e){return r.a.createElement(A,{content:e.text,isUserMsg:e.is_user_msg,key:e.number})})))},F=t(11),G=t.n(F),L=function(e){return r.a.createElement("form",{className:G.a.MessageInput,onSubmit:function(a){if(a.preventDefault(),""!==e.value){var t=C.getState(),s=t.typing,n=t.activeChatUserId;C.dispatch({type:"SEND_MSG",payload:{msg:s,userId:n}})}}},r.a.createElement("input",{className:G.a.MessageInput__textField,onChange:function(e){C.dispatch({type:"SET_TYPING_VALUE",payload:e.target.value})},value:e.value,placeholder:"write a message..."}))},P=t(18),R=t.n(P),Y=function(e){var a=C.getState(),t=a.contacts[e.activeChatUserId],s=a.messages[e.activeChatUserId],n=a.typing;return r.a.createElement("div",{className:R.a.ChatWindow},r.a.createElement(T,{activeUser:t}),r.a.createElement(D,{activeMsgs:o.a.values(s)}),r.a.createElement(L,{value:n}))},J=t(19),K=t.n(J),V=function(e){return r.a.createElement("main",{className:K.a.Main},e.activeChatUserId?r.a.createElement(Y,{activeChatUserId:e.activeChatUserId}):r.a.createElement(m,{user:e.user}))},X=t(4),Z=t.n(X),z=function(e){var a=e.user,t=a.name,s=a.status,n=a.profile_pic;return r.a.createElement("div",{className:Z.a.User,onClick:function(a){return function(e){C.dispatch({type:"SET_ACTIVE_CHAT_USER_ID",payload:e.user_id})}(e.user)}},r.a.createElement("img",{src:n,alt:t,className:Z.a.User__pic}),r.a.createElement("div",{className:Z.a.User__details},r.a.createElement("p",{className:Z.a.User__name},t),r.a.createElement("p",{className:Z.a.User__status},s)))},B=t(20),Q=t.n(B),$=function(e){return r.a.createElement("aside",{className:Q.a.Sidebar},e.contacts.map((function(e){return r.a.createElement(z,{user:e,key:e.user_id})})))},q=(t(1090),function(){var e=C.getState(),a=e.contacts,t=e.activeChatUserId,s=e.user;return r.a.createElement("div",{className:"App"},r.a.createElement($,{contacts:o.a.values(a)}),r.a.createElement(V,{user:s,activeChatUserId:t}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=function(){console.log("%c Rendered with...","background: purple; color: #FFF"),console.log(C.getState()),_.a.render(r.a.createElement(q,null),document.getElementById("root"))};ee(),C.subscribe(ee),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},11:function(e,a,t){e.exports={MessageInput:"MessageInput_MessageInput__3ZxEm",MessageInput__textField:"MessageInput_MessageInput__textField__zerWu"}},17:function(e,a,t){e.exports={Messages:"Messages_Messages__2D-Ym"}},18:function(e,a,t){e.exports={ChatWindow:"ChatWindow_ChatWindow__2xIXt"}},19:function(e,a,t){e.exports={Main:"Main_Main__CYWXU"}},2:function(e,a,t){e.exports={Splash:"Splash_Splash__1CG2X",Splash__profilePic:"Splash_Splash__profilePic__3J3Lk",Splash__status:"Splash_Splash__status__1Jwwc",Splash__button:"Splash_Splash__button__1vjjI",Splash__helperText:"Splash_Splash__helperText__3-L9G"}},20:function(e,a,t){e.exports={Sidebar:"Sidebar_Sidebar__2ajNT"}},21:function(e,a,t){e.exports=t(1091)},26:function(e,a,t){},3:function(e,a,t){e.exports={Header:"Header_Header__2C_Ub",Header__img:"Header_Header__img__3K-u3",Header__infoSection:"Header_Header__infoSection__2CSFh",Header__name:"Header_Header__name__3bk1f",Header__status:"Header_Header__status__3CNQE"}},4:function(e,a,t){e.exports={User:"User_User__wQH9r",User__pic:"User_User__pic__3_9Pk",User__details:"User_User__details__2H0ZC",User__name:"User_User__name__1-UMK",User__status:"User_User__status__1wZtZ"}},9:function(e,a,t){e.exports={Message:"Message_Message__L9LXR",Message__user:"Message_Message__user__2Yys3",Message__notUser:"Message_Message__notUser__2iuTz"}}},[[21,1,2]]]);
//# sourceMappingURL=main.8298b0a2.chunk.js.map